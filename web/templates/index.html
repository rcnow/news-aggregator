<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="static/img/favicon.png" sizes="32x32">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/main.css">
    <title>News Aggregator</title>
</head>
<body>
    <section class="panel left-panel">
        <div class="panel-logo">
            <svg xmlns="http://www.w3.org/2000/svg"  class="icon" fill="none" viewBox="0 0 32 24">
                <path fill="#currentColor" d="M19.441.624C21.578.017 24.337-.302 26.662.4l.157.054C27.584.761 28 1.513 28 2.247V3h4v21H0V3h4v-.753C4 1.513 4.416.761 5.18.454L5.339.4c2.325-.702 5.084-.383 7.22.224 1.08.307 2.056.703 2.793 1.124.231.133.45.277.649.428a5.94 5.94 0 0 1 .65-.428c.736-.421 1.712-.817 2.791-1.124ZM28 19.494c0 1.306-1.193 2.196-2.383 2.012l-.237-.05c-1.03-.288-2.381-.59-3.429-.59-.329 0-.85.127-1.509.396-.494.202-1.014.461-1.506.738H30V5h-2v14.494ZM2 5v17h11.065a13.775 13.775 0 0 0-1.507-.738c-.66-.269-1.18-.396-1.51-.396-1.047 0-2.398.302-3.428.59l-.237.05C5.193 21.69 4 20.8 4 19.494V5H2Zm10.012-2.452C10.088 2.001 7.798 1.775 6 2.29v17.207l.017.017a.085.085 0 0 0 .035.016l.031-.001c1.057-.295 2.63-.663 3.966-.663.723 0 1.534.247 2.264.544.752.308 1.522.712 2.193 1.114.151.09.3.182.442.273l.01-1.524c.01-1.613.024-3.777.032-5.98.009-2.205.014-4.448.007-6.218-.006-1.6-.023-2.746-.045-3.17l-.017-.016a3.062 3.062 0 0 0-.578-.404c-.563-.323-1.38-.663-2.345-.937ZM26 2.29c-1.798-.515-4.088-.289-6.012.258-.965.274-1.782.614-2.345.937a3.062 3.062 0 0 0-.579.404l-.016.017c-.022.423-.04 1.57-.045 3.169-.006 1.77-.002 4.013.007 6.217.008 2.204.021 4.368.032 5.98l.01 1.525c.143-.091.29-.183.442-.273.671-.402 1.44-.806 2.194-1.114.729-.297 1.54-.544 2.263-.544 1.336 0 2.909.368 3.966.663h.031a.084.084 0 0 0 .035-.015l.017-.017V2.29Z"/>
            </svg>
            <h3>News Aggregator</h3>
        </div>
        <nav class="menu-header">
            <h3>Today: {{.todayDate}}</h3>
            <div class="theme-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24">
                    <path fill="currentColor" fill-rule="evenodd" d="M13 1a1 1 0 1 0-2 0v2.06c0 .532.468.94 1 .94s1-.408 1-.94V1ZM6.385 4.971c.377.377.335.996-.042 1.372-.376.377-.995.419-1.372.042L3.515 4.93a1 1 0 1 1 1.414-1.414L6.385 4.97ZM3.06 11c.533 0 .941.468.941 1s-.408 1-.94 1H1a1 1 0 1 1 0-2h2.06Zm1.912 6.615c.377-.377.996-.335 1.372.042.377.376.419.995.042 1.372L4.93 20.485a1 1 0 0 1-1.414-1.414l1.456-1.456ZM11 20.94c0-.533.468-.941 1-.941s1 .408 1 .94V23a1 1 0 1 1-2 0v-2.06Zm6.615-1.912c-.377-.377-.335-.996.042-1.372.376-.377.995-.419 1.372-.042l1.456 1.456a1 1 0 0 1-1.414 1.414l-1.456-1.456ZM20.94 13c-.533 0-.941-.468-.941-1s.408-1 .94-1H23a1 1 0 1 1 0 2h-2.06Zm-1.912-6.615c-.377.377-.996.335-1.372-.042-.377-.376-.419-.995-.042-1.372l1.456-1.456a1 1 0 1 1 1.414 1.414L19.03 6.385ZM17 12a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm2 0a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z" clip-rule="evenodd"/>
                </svg>
                <label class="switch">
                    <input type="checkbox">
                    <span class="slider round"></span>
                </label>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24">
                    <path fill="currentColor" fill-rule="evenodd" d="M17 1.84c0-.758-.498-1.435-1.24-1.58C14.882.09 13.974 0 13.043 0 5.84 0 0 5.373 0 12s5.84 12 13.044 12c.931 0 1.84-.09 2.715-.26.743-.145 1.241-.822 1.241-1.58 0-.68-.411-1.285-1.006-1.615-3.215-1.782-5.298-5.003-5.298-8.545s2.083-6.763 5.298-8.545C16.589 3.125 17 2.52 17 1.839ZM13.044 22c.45 0 .6-.58.245-.858-2.81-2.202-4.593-5.48-4.593-9.142 0-3.662 1.783-6.94 4.593-9.141.355-.278.205-.859-.245-.859C6.784 2 2 6.631 2 12s4.784 10 11.044 10Z" clip-rule="evenodd"/>
                </svg>
            </div>
        </nav>
        <nav class="link-list">
            <a href="#" id="show-all-news">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon_allnews" fill="none" viewBox="0 0 24 24">
                    <path fill="currentColor" fill-rule="evenodd" d="M24 0H0v3h24V0Zm-6 7H0v3h18V7ZM0 14h18v3H0v-3Zm24 7H0v3h24v-3Z" clip-rule="evenodd"/>
                </svg>
                <p>All news</p>
                <div class="info">
                    <span class="count">{{.totalCount}}</span>
                </div>
            </a>
        </nav>
        <nav class="unique-link-list">
            {{ range .uniqueItems }}
            <a href="{{.ChannelLink}}" target="_blank">
                <p>{{.ChannelTitle}}</p>
                <span class=count>{{index $.uniqueCounts .ChannelLink}}</span>
            </a>
            {{ end }}
        </nav>
    </section>
    <section class="panel middle-panel">
        <h3 class="panel-header">{{.channelTitle}}</h3>
        <div class="panel-search">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24">
                <path fill="currentColor" fill-rule="evenodd" d="M13 7.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Zm-1 6a7.5 7.5 0 1 1 1.426-1.403l10.095 10.095a1 1 0 0 1-1.414 1.415L12 13.5Z" clip-rule="evenodd"/>
            </svg>
            <input type="text" id="searchInput" placeholder="Search news...">
        </div>
        <nav class="menu-header-main">
            <button type="button" id="sort-time">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24">
                    <path fill="currentColor" fill-rule="evenodd" d="M24 0H0v3h24V0Zm-4 21H4v3h16v-3ZM3 14h18v3H3v-3Zm19-7H2v3h20V7Z" clip-rule="evenodd"/>
                </svg>
                <p>Filter</p>
                <div class="filter-popup">
                    <p>Show news for ...</p>
                    <label class="radio-item">
                        <input type="radio" name="filter" value="24" {{if eq .timeFilterValue 24}}checked{{end}}>
                        <span class="radio-label">24 hours</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="filter" value="12" {{if eq .timeFilterValue 12}}checked{{end}}>
                        <span class="radio-label">12 hours</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="filter" value="6"{{if eq .timeFilterValue 6}}checked{{end}}>
                        <span class="radio-label">6 hours</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="filter" value="3"{{if eq .timeFilterValue 6}}checked{{end}}>
                        <span class="radio-label">3 hours</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="filter" value="1"{{if eq .timeFilterValue 1}}checked{{end}}>
                        <span class="radio-label">1 hour</span>
                    </label>
                </div>
            </button>
            <button type="button"  id="sort-asc-desc" data-sort="{{.sortFilter}}">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" id="sort-icon">
                    {{ if eq .sortFilter "desc" }}
                    <path fill="currentColor" fill-rule="evenodd" d="M9 1a1 1 0 0 1 2 0v19.996l7.19-7.19a.854.854 0 0 1 1.206 1.208L10.76 23.65a.998.998 0 0 1-1.464.06L.604 15.018A.854.854 0 1 1 1.81 13.81L9 21V1Z" clip-rule="evenodd"/>
                    {{ else }}
                    <path fill="currentColor" fill-rule="evenodd" d="M11.354 23a1 1 0 0 1-2 0V3.004l-7.19 7.19A.854.854 0 0 1 .957 8.986L9.594.35a.998.998 0 0 1 1.464-.06l8.692 8.692a.854.854 0 0 1-1.207 1.207L11.353 3v20Z" clip-rule="evenodd"/>
                    {{ end}}
                </svg>
                <p>Sort</p>
            </button>
        </div>
        </nav>
        <section class="feed-view">
            {{ if .loading }}
            <div id="loading" class="loading">
                <h3>Loading...</h3>
            </div>
            {{ else }}
            {{ range .newsItems }}
            <div class="feed-item">
                <h3 class="feed-title">{{.Title}}</h3>
                <p class="feed-description">{{ truncate .Description 150 }}</p>
                <span class="feed-info"><a href="{{.ItemLink}}" target="_blank">{{.ChannelTitle}}</a> <p>{{ formatDate .PubDate }}</p></span>
             </div>
            {{ end }}
            {{ end }}
        </section>
    </section>
    <script src="/static/main.js" defer></script>
</body>
</html>